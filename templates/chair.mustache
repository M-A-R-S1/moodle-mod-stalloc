{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_stalloc/chair

    Display the home site of this plugin.
    Classes required for JS:
    * none
    Data attributes required for JS:
    * none
    Context variables required for this template:
    * none
}}

<h2 class="mt-3 mb-3 ml-3">CHAIR SETTINGS</h2>

<div id="accordion">
    <div class="card ml-3">
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-striped table-hover border mb-0">
                    <thead class="bg-light">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Chair</th>
                        <th scope="col">Holder</th>
                        {{#examination_view}}
                            <th scope="col">Flexnow-ID</th>
                            <th scope="col">Member</th>
                        {{/examination_view}}
                        <th scope="col">Contact name</th>
                        <th scope="col">Phone</th>
                        <th scope="col">Mail</th>
                        <th scope="col">{{#str}} distribution_key, mod_stalloc {{/str}}{{#distribution_key_help}}{{> core/help_icon }}{{/distribution_key_help}} </th>
                        <th scope="col">{{#str}} direct_students, mod_stalloc {{/str}}{{#direct_students_help}}{{> core/help_icon }}{{/direct_students_help}}</th>
                        <th scope="col">{{#str}} students, mod_stalloc {{/str}}{{#students_help}}{{> core/help_icon }}{{/students_help}}</th>
                        <th scope="col">Active</th>
                        {{#examination_view}}
                            <th scope="col">Edit</th>
                            <th scope="col">Delete</th>
                        {{/examination_view}}
                    </tr>
                    </thead>
                    <tbody>
                    {{#chair}}
                        {{#inactive}}
                            <tr class="text-secondary">
                                <th scope="row">{{index}}</th>
                                <td>{{chair_name}}</td>
                                <td>{{chair_holder}}</td>
                                {{#examination_view}}
                                    <td>{{chair_flexnow_id}}</td>
                                    <td>
                                        {{#chair_member}}
                                            {{member_lastname}}, {{member_firstname}}<br>
                                        {{/chair_member}}
                                    </td>
                                {{/examination_view}}
                                <td>{{chair_contact_name}}</td>
                                <td>{{chair_contact_phone}}</td>
                                <td>{{chair_contact_mail}}</td>
                                <td>{{chair_distribution_key}}</td>
                                <td>{{direct_students}}/{{max_direct_students}}</td>
                                <td>{{students}}/{{max_students}}</td>
                                <td>
                                    {{#str}} icon_inactive, mod_stalloc {{/str}}
                                </td>
                                {{#examination_view}}
                                    <td>
                                        <a href="{{{edit_chair_url}}}">{{#str}} icon_edit, mod_stalloc {{/str}}</a>
                                    </td>
                                    <td>
                                        <a href="{{{delete_chair_url}}}"> {{#str}} icon_delete, mod_stalloc {{/str}}</a>
                                    </td>
                                {{/examination_view}}
                            </tr>
                        {{/inactive}}
                        {{#active}}
                            <tr>
                                <th scope="row">{{index}}</th>
                                <td>{{chair_name}}</td>
                                <td>{{chair_holder}}</td>
                                {{#examination_view}}
                                    <td>{{chair_flexnow_id}}</td>
                                    <td>
                                        {{#chair_member}}
                                            {{member_lastname}}, {{member_firstname}}<br>
                                        {{/chair_member}}
                                    </td>
                                {{/examination_view}}
                                <td>{{chair_contact_name}}</td>
                                <td>{{chair_contact_phone}}</td>
                                <td>{{chair_contact_mail}}</td>
                                <td>{{chair_distribution_key}}</td>
                                <td>{{direct_students}}/{{max_direct_students}}</td>
                                <td>{{students}}/{{max_students}}</td>
                                <td>
                                    {{#str}} icon_active, mod_stalloc {{/str}}
                                </td>
                                {{#examination_view}}
                                    <td>
                                        <a href="{{{edit_chair_url}}}">{{#str}} icon_edit, mod_stalloc {{/str}}</a>
                                    </td>
                                    <td>
                                        <a href="{{{delete_chair_url}}}"> {{#str}} icon_delete, mod_stalloc {{/str}}</a>
                                    </td>
                                {{/examination_view}}
                            </tr>
                        {{/active}}
                    {{/chair}}
                    </tbody>
                </table>
            </div>
            {{#admin_settings}}
                <a class="btn btn-success btn-block mt-3" href="{{{new_chair_url}}}" role="button">Add new chair</a>
            {{/admin_settings}}
        </div>
    </div>
</div>